<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}
<head>
    <meta charset="UTF-8">
    <title>Todolist</title>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>

    <link rel="stylesheet" href="../static/style.css"/>
    <script type="text/babel" src="../static/todolist.js"></script>
</head>
<body>
    <div align="center">
        <!-- title -->
        <div id="title"></div>
        <script type="text/babel">
            ReactDOM.render(
                <h1>Todolist</h1>,
                document.getElementById('title')
            );
        </script>

        <!-- functions -->
        <div id="funcpanel"></div>
        <script type="text/babel">
            ReactDOM.render(
                <div>
                    <AddPanel /><br />
                    <OrderPanel /><br />
                </div>,
                document.getElementById('funcpanel')
            );
        </script>

        <!-- show the list-->
        <table border="1" bgcolor="white" frame="void" rules="rows" width="40%">
            <tr><th></th></tr>

            {% for item in todolist %}
                <tr>
                    <td>
                        <!-- one item-->
                        <div id="item{{ item.id }}"></div>
                        <script type="text/babel">
                            ReactDOM.render(
                                <Item
                                    id="{{ item.id }}"
                                    name="{{ item.name }}"
                                    content="{{ item.content }}"
                                    expire_date="{{ item.expire_date }}"
                                    status="{{ item.status }}"
                                    priority="{{ item.priority }}"
                                />,
                                document.getElementById('item'+{{ item.id }})
                            );
                        </script>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>